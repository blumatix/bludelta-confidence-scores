{
  "input_path": "..\\Documents\\273366\\273305_grid_concat.txt",
  "answer": {
    "GrandTotal.Amount": 391.68,
    "Invoice.Date": "12.12.2023",
    "Sender.VatId": "ATU78657801",
    "Vat.Rate": 20,
    "Net.Amount": 326.4,
    "Vat.Amount": 65.28
  },
  "confidence_numeric": {
    "GrandTotal.Amount": 0.99,
    "Invoice.Date": 0.98,
    "Sender.VatId": 0.95,
    "Vat.Rate": 0.99,
    "Net.Amount": 0.96,
    "Vat.Amount": 0.99
  },
  "confidence_verbal": {
    "GrandTotal.Amount": "Almost certain",
    "Invoice.Date": "Almost certain",
    "Sender.VatId": "Almost certain",
    "Vat.Rate": "Almost certain",
    "Net.Amount": "Almost certain",
    "Vat.Amount": "Almost certain"
  },
  "reasoning": {
    "step1": "{\n  \"GrandTotal.Amount\": 391.68,\n  \"Invoice.Date\": \"12.12.2023\",\n  \"Sender.VatId\": \"ATU78657801\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 326.40,\n  \"Vat.Amount\": 65.28\n}",
    "step2": "I'll evaluate each extracted field with step-by-step evidence and a confidence estimate.\n\n1) GrandTotal.Amount = 391.68 EUR\n- Evidence: The OCR shows \"ENDBETRAG: 391,68 EUR\" near totals. This matches format and placement for invoice total.\n- Cross-check: Net 326,40 + VAT 65,28 = 391,68, consistent with arithmetic.\n- Uncertainty: Comma used as decimal separator in source but parsed as dot; amount formatting consistent.\n- Confidence: 99%\n\n2) Invoice.Date = \"12.12.2023\"\n- Evidence: Top-right shows \"RE074117 vom 12.12.2023\" (vom = from/date). Also line items reference same date for Beleg entries.\n- Uncertainty: Could be invoice creation date vs delivery date, but accepted as invoice date.\n- Confidence: 98%\n\n3) Sender.VatId = \"ATU78657801\"\n- Evidence: Bottom block includes \"ATU78657801\" (typical Austrian VAT ID prefix ATU).\n- Uncertainty: OCR could misread similar numeric strings, but clear context \"ATU...\" indicates VAT ID.\n- Confidence: 95%\n\n4) Vat.Rate = 20\n- Evidence: Totals section shows \"zuzüglich 20% MWSt\" (20% VAT).\n- Uncertainty: None significant.\n- Confidence: 99%\n\n5) Net.Amount = 326.40 EUR\n- Evidence: Totals block shows \"Warenwert: 326,40 EUR\" (goods value / net amount). Also shown on same line as VAT calculation where \"zuzüglich 20% MWSt 326,40 65,28 EUR\" but layout ambiguous — however Warenwert explicitly 326,40.\n- Cross-check: Net + VAT = Grand Total.\n- Uncertainty: Minor layout ambiguity but clear label.\n- Confidence: 96%\n\n6) Vat.Amount = 65.28 EUR\n- Evidence: Totals show \"65,28 EUR\" adjacent to VAT line and arithmetic 20% of 326,40 = 65,28.\n- Uncertainty: None significant.\n- Confidence: 99%"
  },
  "llm_logs": {
    "step1": {
      "runtime_sec": 3.83,
      "input_tokens": 1999,
      "output_tokens": 267,
      "total_tokens": 2266
    },
    "step2": {
      "runtime_sec": 6.86,
      "input_tokens": 1136,
      "output_tokens": 525,
      "total_tokens": 1661
    },
    "step3": {
      "runtime_sec": 5.37,
      "input_tokens": 1916,
      "output_tokens": 217,
      "total_tokens": 2133
    }
  },
  "evaluation": {
    "ground_truth_path": "..\\Documents\\273366\\273305_test.json",
    "per_field": {
      "Sender.VatId": [
        true,
        "ATU78657801",
        "ATU78657801"
      ],
      "GrandTotal.Amount": [
        true,
        391.68,
        "391,68"
      ],
      "Net.Amount": [
        true,
        326.4,
        "326,40"
      ],
      "Vat.Amount": [
        true,
        65.28,
        "65,28"
      ],
      "Vat.Rate": [
        true,
        20,
        "20"
      ],
      "Invoice.Date": [
        true,
        "12.12.2023",
        "12.12.2023"
      ]
    },
    "summary": {
      "matched": 6,
      "total": 6,
      "all_match": true
    }
  }
}