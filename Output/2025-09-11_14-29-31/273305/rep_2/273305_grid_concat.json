{
  "input_path": "..\\Documents\\273366\\273305_grid_concat.txt",
  "answer": {
    "GrandTotal.Amount": 391.68,
    "Invoice.Date": "12.12.2023",
    "Sender.VatId": "ATU78657801",
    "Vat.Rate": 20,
    "Net.Amount": 326.4,
    "Vat.Amount": 65.28
  },
  "confidence_numeric": {
    "GrandTotal.Amount": 0.95,
    "Invoice.Date": 0.98,
    "Sender.VatId": 0.92,
    "Vat.Rate": 0.97,
    "Net.Amount": 0.94,
    "Vat.Amount": 0.96
  },
  "confidence_verbal": {
    "GrandTotal.Amount": "Almost certain",
    "Invoice.Date": "Almost certain",
    "Sender.VatId": "Almost certain",
    "Vat.Rate": "Almost certain",
    "Net.Amount": "Almost certain",
    "Vat.Amount": "Almost certain"
  },
  "reasoning": {
    "step1": "{\n  \"GrandTotal.Amount\": 391.68,\n  \"Invoice.Date\": \"12.12.2023\",\n  \"Sender.VatId\": \"ATU78657801\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 326.40,\n  \"Vat.Amount\": 65.28\n}",
    "step2": "I'll evaluate each extracted field with evidence and confidence.\n\n1) GrandTotal.Amount = 391.68 EUR\n- Evidence: The invoice shows \"ENDBETRAG: 391,68 EUR\" near totals. Format matches (comma decimal in source). Converted to dot decimal in extraction.\n- Consistency check: Net 326,40 + VAT 65,28 = 391,68 — sums correctly.\n- Confidence: Very high (≈95%).\n\n2) Invoice.Date = \"12.12.2023\"\n- Evidence: Top-right shows \"vom 12.12.2023\" next to the invoice number RE074117. Also line items reference same date for Beleg entries.\n- Ambiguity: None apparent.\n- Confidence: Very high (≈98%).\n\n3) Sender.VatId = \"ATU78657801\"\n- Evidence: Bottom of page lists \"ATU78657801\" near company details.\n- Ambiguity: There is also a \"Kunde 21302 / ATU64131246\" where ATU64131246 is the customer's VAT ID; the extracted value matches the sender/company VAT at footer.\n- Confidence: High (≈92%).\n\n4) Vat.Rate = 20\n- Evidence: Totals section shows \"zuzüglich 20% MWSt\" (added 20% VAT).\n- Ambiguity: None.\n- Confidence: Very high (≈97%).\n\n5) Net.Amount = 326.40 EUR\n- Evidence: Totals section shows \"Warenwert: 326,40 EUR\" and immediately the VAT line also repeats \"326,40\" as taxable base; extracted as net amount.\n- Consistency check: VAT 20% of 326.40 = 65.28; matches VAT amount.\n- Ambiguity: \"Warenwert\" is the taxable/net goods value — interpretation as net is correct.\n- Confidence: High (≈94%).\n\n6) Vat.Amount = 65.28 EUR\n- Evidence: Totals show \"65,28 EUR\" on the VAT line and arithmetic matches 20% of net.\n- Confidence: Very high (≈96%)."
  },
  "llm_logs": {
    "step1": {
      "runtime_sec": 5.24,
      "input_tokens": 1999,
      "output_tokens": 331,
      "total_tokens": 2330
    },
    "step2": {
      "runtime_sec": 7.56,
      "input_tokens": 1136,
      "output_tokens": 513,
      "total_tokens": 1649
    },
    "step3": {
      "runtime_sec": 3.12,
      "input_tokens": 1904,
      "output_tokens": 217,
      "total_tokens": 2121
    }
  },
  "evaluation": {
    "ground_truth_path": "..\\Documents\\273366\\273305_test.json",
    "per_field": {
      "Sender.VatId": [
        true,
        "ATU78657801",
        "ATU78657801"
      ],
      "GrandTotal.Amount": [
        true,
        391.68,
        "391,68"
      ],
      "Net.Amount": [
        true,
        326.4,
        "326,40"
      ],
      "Vat.Amount": [
        true,
        65.28,
        "65,28"
      ],
      "Vat.Rate": [
        true,
        20,
        "20"
      ],
      "Invoice.Date": [
        true,
        "12.12.2023",
        "12.12.2023"
      ]
    },
    "summary": {
      "matched": 6,
      "total": 6,
      "all_match": true
    }
  }
}