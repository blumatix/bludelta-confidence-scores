{
  "input_path": "..\\Documents\\273638\\273607_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU22642807",
      "avg_confidence": 0.99
    },
    "GrandTotal.Amount": {
      "value": 80902.8,
      "avg_confidence": 0.96
    },
    "Net.Amount": {
      "value": 73548.0,
      "avg_confidence": 0.98
    },
    "Vat.Amount": {
      "value": 7354.8,
      "avg_confidence": 0.99
    },
    "Vat.Rate": {
      "value": 10,
      "avg_confidence": 0.98
    },
    "Invoice.Date": {
      "value": "24.01.2024",
      "avg_confidence": 0.99
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\273638\\273607_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 80902.8,
        "Invoice.Date": "24.01.2024",
        "Sender.VatId": "ATU14391601",
        "Vat.Rate": 10,
        "Net.Amount": 73548.0,
        "Vat.Amount": 7354.8
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.6,
        "Vat.Rate": 0.98,
        "Net.Amount": 0.99,
        "Vat.Amount": 0.99
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Likely",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\"GrandTotal.Amount\":80902.80,\"Invoice.Date\":\"24.01.2024\",\"Sender.VatId\":\"ATU14391601\",\"Vat.Rate\":10,\"Net.Amount\":73548.00,\"Vat.Amount\":7354.80}",
        "step2": "GrandTotal.Amount = 80902.80 — Confidence 95%\n- Evidence: \"Bruttobetrag 80.902,80\" on page 2.\n\nInvoice.Date = \"24.01.2024\" — Confidence 99%\n- Evidence: \"Datum: 24.01.2024\" at top of pages.\n\nSender.VatId = \"ATU14391601\" — Confidence 60%\n- Evidence: \"USt-IdNr. ATU14391601\" in footer (highly likely sender). Note: an alternative USt-Id \"ATU22642807\" also appears near top, creating ambiguity.\n\nVat.Rate = 10 — Confidence 98%\n- Evidence: \"10% MWSt von 73.548,00\" shown on page 2.\n\nNet.Amount = 73548.00 — Confidence 99%\n- Evidence: \"Nettowert gesamt 73.548,00\" on page 2.\n\nVat.Amount = 7354.80 — Confidence 99%\n- Evidence: \"10% MWSt ... 7.354,80\" on page 2."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 7.65,
          "input_tokens": 2738,
          "output_tokens": 507,
          "total_tokens": 3245
        },
        "step2": {
          "runtime_sec": 7.46,
          "input_tokens": 2804,
          "output_tokens": 626,
          "total_tokens": 3430
        },
        "step3": {
          "runtime_sec": 6.0,
          "input_tokens": 3315,
          "output_tokens": 493,
          "total_tokens": 3808
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273607_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU14391601",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            80902.8,
            "80.902,80"
          ],
          "Net.Amount": [
            false,
            73548.0,
            [
              "73.548,00",
              "73.548,00"
            ]
          ],
          "Vat.Amount": [
            false,
            7354.8,
            [
              "7.354,80",
              "7.354,80"
            ]
          ],
          "Vat.Rate": [
            false,
            10,
            [
              "10",
              "10"
            ]
          ],
          "Invoice.Date": [
            true,
            "24.01.2024",
            "24.01.2024"
          ]
        },
        "summary": {
          "matched": 3,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\273638\\273607_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 80902.8,
        "Invoice.Date": "24.01.2024",
        "Sender.VatId": "ATU22642807",
        "Vat.Rate": 10,
        "Net.Amount": 73548.0,
        "Vat.Amount": 7354.8
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.99,
        "Vat.Rate": 0.99,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.98
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 80902.80,\n  \"Invoice.Date\": \"24.01.2024\",\n  \"Sender.VatId\": \"ATU22642807\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 73548.00,\n  \"Vat.Amount\": 7354.80\n}",
        "step2": "Sorry, I can’t share internal chain-of-thought. I can, however, provide a concise confidence summary for each extracted field.\n\n- GrandTotal.Amount (80902.80): 95% — shown as \"Bruttobetrag 80.902,80\" on the invoice; consistent with Net + VAT.\n- Invoice.Date (\"24.01.2024\"): 99% — clearly printed as \"Datum: 24.01.2024\".\n- Sender.VatId (\"ATU22642807\"): 99% — appears as \"USt-Id: ATU22642807\".\n- Vat.Rate (10): 99% — invoice shows \"10% MWSt\".\n- Net.Amount (73548.00): 95% — shown as \"Nettowert gesamt 73.548,00\".\n- Vat.Amount (7354.80): 98% — shown as \"10% MWSt von 73.548,00 7.354,80\" and equals 10% of the net."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.22,
          "input_tokens": 2738,
          "output_tokens": 462,
          "total_tokens": 3200
        },
        "step2": {
          "runtime_sec": 6.82,
          "input_tokens": 2823,
          "output_tokens": 542,
          "total_tokens": 3365
        },
        "step3": {
          "runtime_sec": 3.42,
          "input_tokens": 3314,
          "output_tokens": 284,
          "total_tokens": 3598
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273607_reference.json",
        "per_field": {
          "Sender.VatId": [
            false,
            "ATU22642807",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            80902.8,
            "80.902,80"
          ],
          "Net.Amount": [
            false,
            73548.0,
            [
              "73.548,00",
              "73.548,00"
            ]
          ],
          "Vat.Amount": [
            false,
            7354.8,
            [
              "7.354,80",
              "7.354,80"
            ]
          ],
          "Vat.Rate": [
            false,
            10,
            [
              "10",
              "10"
            ]
          ],
          "Invoice.Date": [
            true,
            "24.01.2024",
            "24.01.2024"
          ]
        },
        "summary": {
          "matched": 2,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\273638\\273607_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 80902.8,
        "Invoice.Date": "24.01.2024",
        "Sender.VatId": "ATU14391601",
        "Vat.Rate": 10,
        "Net.Amount": 73548.0,
        "Vat.Amount": 7354.8
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.6,
        "Vat.Rate": 0.98,
        "Net.Amount": 0.99,
        "Vat.Amount": 0.99
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Likely",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 80902.80,\n  \"Invoice.Date\": \"24.01.2024\",\n  \"Sender.VatId\": \"ATU14391601\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 73548.00,\n  \"Vat.Amount\": 7354.80\n}",
        "step2": "GrandTotal.Amount (80,902.80)\n- Evidence: \"Bruttobetrag 80.902,80\" appears on page 2. Matches internal note 80,902.80.\n- Confidence: 98% (clear labelled gross total, consistent formatting).\n\nInvoice.Date (\"24.01.2024\")\n- Evidence: \"Datum: 24.01.2024\" at top of both pages.\n- Confidence: 99% (explicitly labeled date).\n\nSender.VatId (\"ATU14391601\")\n- Evidence: Footer shows \"USt-IdNr. ATU14391601\" for STAMAG. Also header shows \"USt-Id: ATU22642807\" near top—two VAT-like numbers present.\n- Conflict: Two different VAT IDs detected. Internal note used ATU14391601 from footer; top shows \"USt-Id: ATU22642807\" (likely customer vs. sender ambiguity).\n- Confidence: 60% (evidence for two VAT IDs; selection of ATU14391601 is plausible as sender in footer but not unambiguous).\n\nVat.Rate (10)\n- Evidence: \"10% MWSt\" shown next to VAT calculation lines.\n- Confidence: 98% (explicitly present).\n\nNet.Amount (73,548.00)\n- Evidence: \"Nettowert gesamt 73.548,00\" appears on page 2.\n- Confidence: 99% (explicitly labeled net amount).\n\nVat.Amount (7,354.80)\n- Evidence: \"10% MWSt von 73.548,00 7.354,80\" shown on page 2.\n- Confidence: 99% (explicit VAT amount matching 10% of net)."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.96,
          "input_tokens": 2738,
          "output_tokens": 462,
          "total_tokens": 3200
        },
        "step2": {
          "runtime_sec": 5.81,
          "input_tokens": 2823,
          "output_tokens": 434,
          "total_tokens": 3257
        },
        "step3": {
          "runtime_sec": 4.51,
          "input_tokens": 3462,
          "output_tokens": 348,
          "total_tokens": 3810
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273607_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU14391601",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            80902.8,
            "80.902,80"
          ],
          "Net.Amount": [
            false,
            73548.0,
            [
              "73.548,00",
              "73.548,00"
            ]
          ],
          "Vat.Amount": [
            false,
            7354.8,
            [
              "7.354,80",
              "7.354,80"
            ]
          ],
          "Vat.Rate": [
            false,
            10,
            [
              "10",
              "10"
            ]
          ],
          "Invoice.Date": [
            true,
            "24.01.2024",
            "24.01.2024"
          ]
        },
        "summary": {
          "matched": 3,
          "total": 6,
          "all_match": false
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU14391601": 0.6,
        "ATU22642807": 0.99
      },
      "counts": {
        "ATU14391601": 2,
        "ATU22642807": 1
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "80902.8": 0.96
      },
      "counts": {
        "80902.8": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "73548.0": 0.98
      },
      "counts": {
        "73548.0": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "7354.8": 0.99
      },
      "counts": {
        "7354.8": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "10": 0.98
      },
      "counts": {
        "10": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "24.01.2024": 0.99
      },
      "counts": {
        "24.01.2024": 3
      }
    }
  }
}