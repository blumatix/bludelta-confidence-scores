{
  "input_path": "..\\Documents\\273616\\273616_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU45595404",
      "avg_confidence": 0.97
    },
    "GrandTotal.Amount": {
      "value": 336.48,
      "avg_confidence": 0.96
    },
    "Net.Amount": {
      "value": 280.4,
      "avg_confidence": 0.95
    },
    "Vat.Amount": {
      "value": 56.08,
      "avg_confidence": 0.95
    },
    "Vat.Rate": {
      "value": 20,
      "avg_confidence": 0.95
    },
    "Invoice.Date": {
      "value": "25.01.2024",
      "avg_confidence": 0.98
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\273616\\273616_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 336.48,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU45595404",
        "Vat.Rate": 20,
        "Net.Amount": 280.4,
        "Vat.Amount": 56.08
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.95,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 336.48,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU45595404\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 280.40,\n  \"Vat.Amount\": 56.08\n}",
        "step2": "I can’t share internal step-by-step chain-of-thought. I can, however, provide concise confidence assessments with brief evidential notes for each extracted field:\n\n- GrandTotal.Amount — High confidence. Evidence: \"Endbetrag ... 336,48\" / \"336,48\" shown as payable amount.\n- Invoice.Date — High confidence. Evidence: \"Rechnungs-Datum 25.01.2024\".\n- Sender.VatId — High confidence. Evidence: Header shows \"USt.-IdNr.: ATU45595404\".\n- Vat.Rate — High confidence. Evidence: \"Mehrwertsteuer in % 20,00\".\n- Net.Amount — High confidence. Evidence: \"Warenwert in EUR 280,40\" and listed as taxable amount.\n- Vat.Amount — High confidence. Evidence: \"Mehrwertsteuer in EUR 56,08\"."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 4.55,
          "input_tokens": 2221,
          "output_tokens": 395,
          "total_tokens": 2616
        },
        "step2": {
          "runtime_sec": 5.51,
          "input_tokens": 2303,
          "output_tokens": 376,
          "total_tokens": 2679
        },
        "step3": {
          "runtime_sec": 2.9,
          "input_tokens": 2756,
          "output_tokens": 217,
          "total_tokens": 2973
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273616\\273616_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU45595404",
            "ATU45595404"
          ],
          "GrandTotal.Amount": [
            true,
            336.48,
            "336,48"
          ],
          "Net.Amount": [
            true,
            280.4,
            "280,40"
          ],
          "Vat.Amount": [
            true,
            56.08,
            "56,08"
          ],
          "Vat.Rate": [
            true,
            20,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\273616\\273616_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 336.48,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU45595404",
        "Vat.Rate": 20,
        "Net.Amount": 280.4,
        "Vat.Amount": 56.08
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.96,
        "Net.Amount": 0.96,
        "Vat.Amount": 0.96
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 336.48,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU45595404\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 280.40,\n  \"Vat.Amount\": 56.08\n}",
        "step2": "I can’t share my internal step-by-step chain-of-thought, but I can provide a concise confidence assessment and supporting evidence for each extracted field.\n\n- GrandTotal.Amount: 336.48 — Confidence: 95%\n  Evidence: \"Endbetrag in EUR ... 336,48\" shown near payment terms.\n\n- Invoice.Date: \"25.01.2024\" — Confidence: 99%\n  Evidence: Labeled \"Rechnungs-Datum\" with value 25.01.2024 in the header row.\n\n- Sender.VatId: \"ATU45595404\" — Confidence: 98%\n  Evidence: \"USt.-IdNr.: ATU45595404\" appears in sender header block.\n\n- Vat.Rate: 20 — Confidence: 96%\n  Evidence: \"Mehrwertsteuer ... 20,00\" percent shown in VAT table (stored as 20 per instructions).\n\n- Net.Amount: 280.40 — Confidence: 96%\n  Evidence: \"Warenwert in EUR 280,40\" and \"Steuerpflichtig in EUR 280,40\" before VAT lines.\n\n- Vat.Amount: 56.08 — Confidence: 96%\n  Evidence: VAT line shows \"Mehrwertsteuer in EUR 56,08\" corresponding to 20% of net.\n\nIf you want, I can now output the final JSON with these values."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.44,
          "input_tokens": 2221,
          "output_tokens": 459,
          "total_tokens": 2680
        },
        "step2": {
          "runtime_sec": 7.91,
          "input_tokens": 2303,
          "output_tokens": 485,
          "total_tokens": 2788
        },
        "step3": {
          "runtime_sec": 3.14,
          "input_tokens": 2865,
          "output_tokens": 281,
          "total_tokens": 3146
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273616\\273616_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU45595404",
            "ATU45595404"
          ],
          "GrandTotal.Amount": [
            true,
            336.48,
            "336,48"
          ],
          "Net.Amount": [
            true,
            280.4,
            "280,40"
          ],
          "Vat.Amount": [
            true,
            56.08,
            "56,08"
          ],
          "Vat.Rate": [
            true,
            20,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\273616\\273616_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 336.48,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU45595404",
        "Vat.Rate": 20,
        "Net.Amount": 280.4,
        "Vat.Amount": 56.08
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\"GrandTotal.Amount\":336.48,\"Invoice.Date\":\"25.01.2024\",\"Sender.VatId\":\"ATU45595404\",\"Vat.Rate\":20,\"Net.Amount\":280.40,\"Vat.Amount\":56.08}",
        "step2": "{\n  \"GrandTotal.Amount\": 336.48,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU45595404\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 280.40,\n  \"Vat.Amount\": 56.08\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.22,
          "input_tokens": 2221,
          "output_tokens": 312,
          "total_tokens": 2533
        },
        "step2": {
          "runtime_sec": 3.37,
          "input_tokens": 2284,
          "output_tokens": 203,
          "total_tokens": 2487
        },
        "step3": {
          "runtime_sec": 3.17,
          "input_tokens": 2628,
          "output_tokens": 217,
          "total_tokens": 2845
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273616\\273616_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU45595404",
            "ATU45595404"
          ],
          "GrandTotal.Amount": [
            true,
            336.48,
            "336,48"
          ],
          "Net.Amount": [
            true,
            280.4,
            "280,40"
          ],
          "Vat.Amount": [
            true,
            56.08,
            "56,08"
          ],
          "Vat.Rate": [
            true,
            20,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU45595404": 0.97
      },
      "counts": {
        "ATU45595404": 3
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "336.48": 0.96
      },
      "counts": {
        "336.48": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "280.4": 0.95
      },
      "counts": {
        "280.4": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "56.08": 0.95
      },
      "counts": {
        "56.08": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "20": 0.95
      },
      "counts": {
        "20": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "25.01.2024": 0.98
      },
      "counts": {
        "25.01.2024": 3
      }
    }
  }
}