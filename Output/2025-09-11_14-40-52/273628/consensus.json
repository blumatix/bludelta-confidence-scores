{
  "input_path": "..\\Documents\\273638\\273628_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU22642807",
      "avg_confidence": 0.98
    },
    "GrandTotal.Amount": {
      "value": 2458.5,
      "avg_confidence": 0.96
    },
    "Net.Amount": {
      "value": 2235.0,
      "avg_confidence": 0.96
    },
    "Vat.Amount": {
      "value": 223.5,
      "avg_confidence": 0.96
    },
    "Vat.Rate": {
      "value": 10,
      "avg_confidence": 0.95
    },
    "Invoice.Date": {
      "value": "25.01.2024",
      "avg_confidence": 0.99
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\273638\\273628_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 2458.5,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU22642807",
        "Vat.Rate": 10,
        "Net.Amount": 2235.0,
        "Vat.Amount": 223.5
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 2458.50,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU22642807\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 2235.00,\n  \"Vat.Amount\": 223.50\n}",
        "step2": "I can’t share my internal step-by-step chain-of-thought, but I can provide concise confidence levels with brief supporting evidence for each extracted field:\n\n- GrandTotal.Amount: High — 2.458,50 EUR shown as \"Bruttobetrag 2.458,50\".\n- Invoice.Date: High — \"Datum: 25.01.2024\" clearly present.\n- Sender.VatId: High — \"USt-Id: ATU22642807\" clearly present.\n- Vat.Rate: High — \"10% MWSt\" appears next to VAT calculation.\n- Net.Amount: High — \"Nettowert gesamt 2.235,00\" clearly present.\n- Vat.Amount: High — \"10% MWSt von 2.235,00 223,50\" showing VAT amount."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.2,
          "input_tokens": 1927,
          "output_tokens": 397,
          "total_tokens": 2324
        },
        "step2": {
          "runtime_sec": 6.79,
          "input_tokens": 2011,
          "output_tokens": 497,
          "total_tokens": 2508
        },
        "step3": {
          "runtime_sec": 3.6,
          "input_tokens": 2457,
          "output_tokens": 283,
          "total_tokens": 2740
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273628_test.json",
        "per_field": {
          "Sender.VatId": [
            false,
            "ATU22642807",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            2458.5,
            "2.458,50"
          ],
          "Net.Amount": [
            true,
            2235.0,
            "2.235,00"
          ],
          "Vat.Amount": [
            true,
            223.5,
            "223,50"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 5,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\273638\\273628_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 2458.5,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU14391601",
        "Vat.Rate": 10,
        "Net.Amount": 2235.0,
        "Vat.Amount": 223.5
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 1.0,
        "Sender.VatId": 0.85,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Highly likely",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 2458.50,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU14391601\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 2235.00,\n  \"Vat.Amount\": 223.50\n}",
        "step2": "GrandTotal.Amount\n- Extracted value: 2458.50\n- Evidence: \"Bruttobetrag 2.458,50\" (matches formatting with comma as decimal).\n- Uncertainty: low — clear labeled total present.\n- Confidence: 95%\n\nInvoice.Date\n- Extracted value: \"25.01.2024\"\n- Evidence: Top of document: \"Datum: 25.01.2024\".\n- Uncertainty: none visible.\n- Confidence: 100%\n\nSender.VatId\n- Extracted value: \"ATU14391601\"\n- Evidence: At bottom: \"USt-IdNr. ATU14391601\". Note also an earlier \"USt-Id: ATU22642807\" appears near top (likely customer VAT).\n- Uncertainty: moderate — two VAT IDs present; chosen one matches company footer (sender) while the top one likely belongs to customer.\n- Confidence: 85%\n\nVat.Rate\n- Extracted value: 10\n- Evidence: Line showing \"10% MWSt von 2.235,00 223,50\" and VAT group labeled \"10% MWSt\".\n- Uncertainty: low — VAT rate explicitly shown.\n- Confidence: 95%\n\nNet.Amount\n- Extracted value: 2235.00\n- Evidence: \"Nettowert gesamt 2.235,00\" printed above VAT breakdown.\n- Uncertainty: low.\n- Confidence: 95%\n\nVat.Amount\n- Extracted value: 223.50\n- Evidence: \"10% MWSt von 2.235,00 223,50\" shows VAT amount.\n- Uncertainty: low.\n- Confidence: 95%"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 6.46,
          "input_tokens": 1927,
          "output_tokens": 461,
          "total_tokens": 2388
        },
        "step2": {
          "runtime_sec": 5.81,
          "input_tokens": 2011,
          "output_tokens": 425,
          "total_tokens": 2436
        },
        "step3": {
          "runtime_sec": 4.42,
          "input_tokens": 2641,
          "output_tokens": 347,
          "total_tokens": 2988
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273628_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU14391601",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            2458.5,
            "2.458,50"
          ],
          "Net.Amount": [
            true,
            2235.0,
            "2.235,00"
          ],
          "Vat.Amount": [
            true,
            223.5,
            "223,50"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\273638\\273628_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 2458.5,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU14391601",
        "Vat.Rate": 10,
        "Net.Amount": 2235.0,
        "Vat.Amount": 223.5
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.96,
        "Net.Amount": 0.97,
        "Vat.Amount": 0.97
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 2458.50,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU14391601\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 2235.00,\n  \"Vat.Amount\": 223.50\n}",
        "step2": "GrandTotal.Amount = 2458.50 — Confidence: 98% — Evidence: \"Bruttobetrag 2.458,50\" explicitly shown; formatting matches comma as decimal.\n\nInvoice.Date = \"25.01.2024\" — Confidence: 99% — Evidence: \"Datum: 25.01.2024\" at top of document.\n\nSender.VatId = \"ATU14391601\" — Confidence: 95% — Evidence: footer shows \"USt-IdNr. ATU14391601\"; note header also shows \"USt-Id: ATU22642807\" (customer VAT), but sender VAT matches footer.\n\nVat.Rate = 10 — Confidence: 96% — Evidence: VAT line \"10% MWSt von 2.235,00 223,50\" indicates 10% VAT group; extracted as numeric without \"%\".\n\nNet.Amount = 2235.00 — Confidence: 97% — Evidence: \"Nettowert gesamt 2.235,00\" explicitly shown.\n\nVat.Amount = 223.50 — Confidence: 97% — Evidence: \"10% MWSt ... 223,50\" explicitly shown."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.24,
          "input_tokens": 1927,
          "output_tokens": 461,
          "total_tokens": 2388
        },
        "step2": {
          "runtime_sec": 4.99,
          "input_tokens": 2011,
          "output_tokens": 383,
          "total_tokens": 2394
        },
        "step3": {
          "runtime_sec": 3.32,
          "input_tokens": 2535,
          "output_tokens": 219,
          "total_tokens": 2754
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273638\\273628_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU14391601",
            "ATU14391601,"
          ],
          "GrandTotal.Amount": [
            true,
            2458.5,
            "2.458,50"
          ],
          "Net.Amount": [
            true,
            2235.0,
            "2.235,00"
          ],
          "Vat.Amount": [
            true,
            223.5,
            "223,50"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU22642807": 0.98,
        "ATU14391601": 0.9
      },
      "counts": {
        "ATU22642807": 1,
        "ATU14391601": 2
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "2458.5": 0.96
      },
      "counts": {
        "2458.5": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "2235.0": 0.96
      },
      "counts": {
        "2235.0": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "223.5": 0.96
      },
      "counts": {
        "223.5": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "10": 0.95
      },
      "counts": {
        "10": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "25.01.2024": 0.99
      },
      "counts": {
        "25.01.2024": 3
      }
    }
  }
}