{
  "input_path": "..\\Documents\\273943\\273932_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU52106509",
      "avg_confidence": 0.96
    },
    "GrandTotal.Amount": {
      "value": 895.54,
      "avg_confidence": 0.97
    },
    "Net.Amount": {
      "value": 746.28,
      "avg_confidence": 0.97
    },
    "Vat.Amount": {
      "value": 149.26,
      "avg_confidence": 0.97
    },
    "Vat.Rate": {
      "value": 20,
      "avg_confidence": 0.97
    },
    "Invoice.Date": {
      "value": "01.08.2023",
      "avg_confidence": 0.98
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\273943\\273932_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 895.54,
        "Invoice.Date": "01.08.2023",
        "Sender.VatId": "ATU 52106509",
        "Vat.Rate": 20,
        "Net.Amount": 746.28,
        "Vat.Amount": 149.26
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.98,
        "Net.Amount": 0.98,
        "Vat.Amount": 0.98
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 895.54,\n  \"Invoice.Date\": \"01.08.2023\",\n  \"Sender.VatId\": \"ATU 52106509\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 746.28,\n  \"Vat.Amount\": 149.26\n}",
        "step2": "I can’t share internal chain-of-thought, but I can provide a concise confidence assessment for each extracted field with brief evidence.\n\n- GrandTotal.Amount = 895.54 — Confidence: High. Evidence: \"Brutto\" / \"Endbetrag EUR ... 895,54\" on invoice summary.\n- Invoice.Date = 01.08.2023 — Confidence: High. Evidence: \"Datum ... 01.08.2023\" at header and Liefer-Datum matches.\n- Sender.VatId = ATU 52106509 — Confidence: High. Evidence: \"UID: ATU 52106509\" in sender header.\n- Vat.Rate = 20 — Confidence: High. Evidence: \"Mwst 20%\" shown in line and summary.\n- Net.Amount = 746.28 — Confidence: High. Evidence: \"Netto 746,28\" and \"Endbetrag EUR 746,28\" in summary.\n- Vat.Amount = 149.26 — Confidence: High. Evidence: \"Mwst 149,26\" shown in summary."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.86,
          "input_tokens": 1731,
          "output_tokens": 332,
          "total_tokens": 2063
        },
        "step2": {
          "runtime_sec": 5.93,
          "input_tokens": 1814,
          "output_tokens": 482,
          "total_tokens": 2296
        },
        "step3": {
          "runtime_sec": 3.57,
          "input_tokens": 2309,
          "output_tokens": 282,
          "total_tokens": 2591
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273943\\273932_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU 52106509",
            "ATU 52106509"
          ],
          "GrandTotal.Amount": [
            true,
            895.54,
            "895,54"
          ],
          "Net.Amount": [
            true,
            746.28,
            "746,28"
          ],
          "Vat.Amount": [
            true,
            149.26,
            "149,26"
          ],
          "Vat.Rate": [
            true,
            20,
            "20"
          ],
          "Invoice.Date": [
            true,
            "01.08.2023",
            "01.08.2023"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\273943\\273932_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 895.54,
        "Invoice.Date": "01.08.2023",
        "Sender.VatId": "ATU52106509",
        "Vat.Rate": 20,
        "Net.Amount": 746.28,
        "Vat.Amount": 149.26
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.96,
        "Vat.Rate": 0.99,
        "Net.Amount": 0.98,
        "Vat.Amount": 0.98
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 895.54,\n  \"Invoice.Date\": \"01.08.2023\",\n  \"Sender.VatId\": \"ATU52106509\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 746.28,\n  \"Vat.Amount\": 149.26\n}",
        "step2": "GrandTotal.Amount (895.54)\n- Evidence: \"Brutto\" and \"Endbetrag EUR\" lines show 895,54. Matches internal notes.\n- Potential issues: comma used as decimal separator in source; parsed as dot.\n- Confidence: 98%\n\nInvoice.Date (\"01.08.2023\")\n- Evidence: \"Datum\" column shows 01.08.2023; Liefer-Datum also 01.08.2023.\n- Potential issues: none apparent.\n- Confidence: 99%\n\nSender.VatId (\"ATU52106509\")\n- Evidence: Header shows \"UID: ATU 52106509\" near sender details.\n- Potential issues: OCR spacing—concatenation required (ATU52106509).\n- Confidence: 96%\n\nVat.Rate (20)\n- Evidence: Line items show \"20%\" in Mwst column; totals section lists \"Mwst % 20%\".\n- Potential issues: must return number without % per rules; value parsed as 20.\n- Confidence: 99%\n\nNet.Amount (746.28)\n- Evidence: \"Netto\" and \"Endbetrag EUR\" show 746,28.\n- Potential issues: decimal comma to dot conversion.\n- Confidence: 98%\n\nVat.Amount (149.26)\n- Evidence: Totals section shows \"Mwst 149,26\" corresponding to 20% of net.\n- Potential issues: decimal comma conversion.\n- Confidence: 98%"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 6.02,
          "input_tokens": 1731,
          "output_tokens": 395,
          "total_tokens": 2126
        },
        "step2": {
          "runtime_sec": 5.23,
          "input_tokens": 1813,
          "output_tokens": 370,
          "total_tokens": 2183
        },
        "step3": {
          "runtime_sec": 3.36,
          "input_tokens": 2388,
          "output_tokens": 217,
          "total_tokens": 2605
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273943\\273932_reference.json",
        "per_field": {
          "Sender.VatId": [
            false,
            "ATU52106509",
            "ATU 52106509"
          ],
          "GrandTotal.Amount": [
            true,
            895.54,
            "895,54"
          ],
          "Net.Amount": [
            true,
            746.28,
            "746,28"
          ],
          "Vat.Amount": [
            true,
            149.26,
            "149,26"
          ],
          "Vat.Rate": [
            true,
            20,
            "20"
          ],
          "Invoice.Date": [
            true,
            "01.08.2023",
            "01.08.2023"
          ]
        },
        "summary": {
          "matched": 5,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\273943\\273932_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 895.54,
        "Invoice.Date": "01.08.2023",
        "Sender.VatId": "ATU 52106509",
        "Vat.Rate": 20,
        "Net.Amount": 746.28,
        "Vat.Amount": 149.26
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 895.54,\n  \"Invoice.Date\": \"01.08.2023\",\n  \"Sender.VatId\": \"ATU 52106509\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 746.28,\n  \"Vat.Amount\": 149.26\n}",
        "step2": "I can’t share internal step-by-step reasoning. I can, however, provide a concise confidence assessment per extracted field with brief supporting evidence.\n\n{\n  \"GrandTotal.Amount\": {\n    \"confidence\": \"95%\",\n    \"evidence\": \"Visible 'Brutto' and 'Endbetrag' shown as 895,54 EUR in invoice totals.\"\n  },\n  \"Invoice.Date\": {\n    \"confidence\": \"98%\",\n    \"evidence\": \"Date '01.08.2023' appears labeled 'Datum' and 'Liefer-Datum'.\"\n  },\n  \"Sender.VatId\": {\n    \"confidence\": \"90%\",\n    \"evidence\": \"UID: ATU 52106509 present near sender contact block.\"\n  },\n  \"Vat.Rate\": {\n    \"confidence\": \"95%\",\n    \"evidence\": \"Column shows '20%' and totals table lists Mwst 20%.\"\n  },\n  \"Net.Amount\": {\n    \"confidence\": \"95%\",\n    \"evidence\": \"Netto amount listed as 746,28 in totals section.\"\n  },\n  \"Vat.Amount\": {\n    \"confidence\": \"95%\",\n    \"evidence\": \"Mwst amount listed as 149,26 in totals section.\"\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 4.64,
          "input_tokens": 1731,
          "output_tokens": 396,
          "total_tokens": 2127
        },
        "step2": {
          "runtime_sec": 6.11,
          "input_tokens": 1814,
          "output_tokens": 518,
          "total_tokens": 2332
        },
        "step3": {
          "runtime_sec": 3.62,
          "input_tokens": 2345,
          "output_tokens": 282,
          "total_tokens": 2627
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273943\\273932_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU 52106509",
            "ATU 52106509"
          ],
          "GrandTotal.Amount": [
            true,
            895.54,
            "895,54"
          ],
          "Net.Amount": [
            true,
            746.28,
            "746,28"
          ],
          "Vat.Amount": [
            true,
            149.26,
            "149,26"
          ],
          "Vat.Rate": [
            true,
            20,
            "20"
          ],
          "Invoice.Date": [
            true,
            "01.08.2023",
            "01.08.2023"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU 52106509": 0.94,
        "ATU52106509": 0.96
      },
      "counts": {
        "ATU 52106509": 2,
        "ATU52106509": 1
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "895.54": 0.97
      },
      "counts": {
        "895.54": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "746.28": 0.97
      },
      "counts": {
        "746.28": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "149.26": 0.97
      },
      "counts": {
        "149.26": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "20": 0.97
      },
      "counts": {
        "20": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "01.08.2023": 0.98
      },
      "counts": {
        "01.08.2023": 3
      }
    }
  }
}