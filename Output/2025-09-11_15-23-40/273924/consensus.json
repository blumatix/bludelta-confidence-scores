{
  "input_path": "..\\Documents\\273924\\273924_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU26011605",
      "avg_confidence": 0.95
    },
    "GrandTotal.Amount": {
      "value": 5440.28,
      "avg_confidence": 0.95
    },
    "Net.Amount": {
      "value": 4945.71,
      "avg_confidence": 0.91
    },
    "Vat.Amount": {
      "value": 494.57,
      "avg_confidence": 0.93
    },
    "Vat.Rate": {
      "value": 10,
      "avg_confidence": 0.93
    },
    "Invoice.Date": {
      "value": "25.01.2024",
      "avg_confidence": 0.93
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\273924\\273924_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 5440.28,
        "Invoice.Date": "26.01.2024",
        "Sender.VatId": "ATU26011605",
        "Vat.Rate": 10,
        "Net.Amount": 4945.71,
        "Vat.Amount": 494.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.9,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.9
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 5440.28,\n  \"Invoice.Date\": \"26.01.2024\",\n  \"Sender.VatId\": \"ATU26011605\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 4945.71,\n  \"Vat.Amount\": 494.57\n}",
        "step2": "{\n  \"GrandTotal.Amount\": 5440.28,\n  \"Invoice.Date\": \"26.01.2024\",\n  \"Sender.VatId\": \"ATU26011605\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 4945.71,\n  \"Vat.Amount\": 494.57\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.9,
          "input_tokens": 2212,
          "output_tokens": 461,
          "total_tokens": 2673
        },
        "step2": {
          "runtime_sec": 4.9,
          "input_tokens": 2296,
          "output_tokens": 269,
          "total_tokens": 2565
        },
        "step3": {
          "runtime_sec": 4.19,
          "input_tokens": 2642,
          "output_tokens": 283,
          "total_tokens": 2925
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273924\\273924_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU26011605",
            "ATU26011605,"
          ],
          "GrandTotal.Amount": [
            true,
            5440.28,
            "5.440,28"
          ],
          "Net.Amount": [
            true,
            4945.71,
            "4.945,71"
          ],
          "Vat.Amount": [
            true,
            494.57,
            "494,57"
          ],
          "Vat.Rate": [
            true,
            10,
            "10,00"
          ],
          "Invoice.Date": [
            true,
            "26.01.2024",
            "26.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\273924\\273924_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 5440.28,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU26011605",
        "Vat.Rate": 10,
        "Net.Amount": 4945.71,
        "Vat.Amount": 494.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.9,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 5440.28,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU26011605\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 4945.71,\n  \"Vat.Amount\": 494.57\n}",
        "step2": "I can’t provide my internal step-by-step chain-of-thought. I can, however, give a concise confidence assessment for each extracted field with brief, non-revealing evidence.\n\n- GrandTotal.Amount (5,440.28): Confidence 95% — matches \"Endbetrag: 5.440,28 EUR\" clearly shown.\n- Invoice.Date (\"25.01.2024\"): Confidence 90% — \"Ausstellungsdatum 25.01.2024\" appears; an additional \"Rechnungsdatum 26.01.2024\" is present but the extracted date corresponds to the issuance date shown.\n- Sender.VatId (\"ATU26011605\"): Confidence 95% — UID listed as \"ATU26011605\" in the footer.\n- Vat.Rate (10): Confidence 95% — \"Mehrwertsteuer: A 10,00% MwSt.\" is explicitly shown.\n- Net.Amount (4,945.71): Confidence 90% — \"MwSt. auf 4.945,71 EUR\" appears as the taxable net amount.\n- Vat.Amount (494.57): Confidence 95% — VAT amount shown as \"494,57 EUR\" adjacent to the VAT line.\n\nIf you want the final extracted JSON now, I can produce it."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 7.92,
          "input_tokens": 2212,
          "output_tokens": 461,
          "total_tokens": 2673
        },
        "step2": {
          "runtime_sec": 6.36,
          "input_tokens": 2296,
          "output_tokens": 593,
          "total_tokens": 2889
        },
        "step3": {
          "runtime_sec": 4.11,
          "input_tokens": 2838,
          "output_tokens": 283,
          "total_tokens": 3121
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273924\\273924_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU26011605",
            "ATU26011605,"
          ],
          "GrandTotal.Amount": [
            true,
            5440.28,
            "5.440,28"
          ],
          "Net.Amount": [
            true,
            4945.71,
            "4.945,71"
          ],
          "Vat.Amount": [
            true,
            494.57,
            "494,57"
          ],
          "Vat.Rate": [
            true,
            10,
            "10,00"
          ],
          "Invoice.Date": [
            false,
            "25.01.2024",
            "26.01.2024"
          ]
        },
        "summary": {
          "matched": 5,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\273924\\273924_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 5440.28,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU26011605",
        "Vat.Rate": 10.0,
        "Net.Amount": 4945.71,
        "Vat.Amount": 494.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.96,
        "Invoice.Date": 0.96,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.93,
        "Net.Amount": 0.94,
        "Vat.Amount": 0.94
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "Sorry, I can’t share internal step-by-step chain-of-thought. I can, however, extract the invoice fields per the schema from the provided text — shall I proceed?",
        "step2": "{\n  \"GrandTotal.Amount\": 5440.28,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU26011605\",\n  \"Vat.Rate\": 10.00,\n  \"Net.Amount\": 4945.71,\n  \"Vat.Amount\": 494.57\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 1.84,
          "input_tokens": 2212,
          "output_tokens": 106,
          "total_tokens": 2318
        },
        "step2": {
          "runtime_sec": 6.19,
          "input_tokens": 2261,
          "output_tokens": 527,
          "total_tokens": 2788
        },
        "step3": {
          "runtime_sec": 4.77,
          "input_tokens": 2609,
          "output_tokens": 413,
          "total_tokens": 3022
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\273924\\273924_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU26011605",
            "ATU26011605,"
          ],
          "GrandTotal.Amount": [
            true,
            5440.28,
            "5.440,28"
          ],
          "Net.Amount": [
            true,
            4945.71,
            "4.945,71"
          ],
          "Vat.Amount": [
            true,
            494.57,
            "494,57"
          ],
          "Vat.Rate": [
            true,
            10.0,
            "10,00"
          ],
          "Invoice.Date": [
            false,
            "25.01.2024",
            "26.01.2024"
          ]
        },
        "summary": {
          "matched": 5,
          "total": 6,
          "all_match": false
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU26011605": 0.95
      },
      "counts": {
        "ATU26011605": 3
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "5440.28": 0.95
      },
      "counts": {
        "5440.28": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "4945.71": 0.91
      },
      "counts": {
        "4945.71": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "494.57": 0.93
      },
      "counts": {
        "494.57": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "10": 0.93
      },
      "counts": {
        "10": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "26.01.2024": 0.9,
        "25.01.2024": 0.93
      },
      "counts": {
        "26.01.2024": 1,
        "25.01.2024": 2
      }
    }
  }
}