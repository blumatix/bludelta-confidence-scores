{
  "input_path": "..\\Documents\\274800\\274797_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU69710958",
      "avg_confidence": 0.91
    },
    "GrandTotal.Amount": {
      "value": 93.42,
      "avg_confidence": 0.95
    },
    "Net.Amount": {
      "value": 77.85,
      "avg_confidence": 0.94
    },
    "Vat.Amount": {
      "value": 15.57,
      "avg_confidence": 0.94
    },
    "Vat.Rate": {
      "value": 20,
      "avg_confidence": 0.91
    },
    "Invoice.Date": {
      "value": "29.01.2024",
      "avg_confidence": 0.96
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\274800\\274797_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 93.42,
        "Invoice.Date": "29.01.2024",
        "Sender.VatId": "ATU69710958",
        "Vat.Rate": 20,
        "Net.Amount": 77.85,
        "Vat.Amount": 15.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.92,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 93.42,\n  \"Invoice.Date\": \"29.01.2024\",\n  \"Sender.VatId\": \"ATU69710958\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 77.85,\n  \"Vat.Amount\": 15.57\n}",
        "step2": "{\n  \"GrandTotal.Amount\": 93.42,\n  \"Invoice.Date\": \"29.01.2024\",\n  \"Sender.VatId\": \"ATU69710958\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 77.85,\n  \"Vat.Amount\": 15.57\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 4.71,
          "input_tokens": 2949,
          "output_tokens": 395,
          "total_tokens": 3344
        },
        "step2": {
          "runtime_sec": 3.82,
          "input_tokens": 3031,
          "output_tokens": 267,
          "total_tokens": 3298
        },
        "step3": {
          "runtime_sec": 4.53,
          "input_tokens": 3375,
          "output_tokens": 281,
          "total_tokens": 3656
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274800\\274797_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU69710958",
            "ATU69710958,"
          ],
          "GrandTotal.Amount": [
            true,
            93.42,
            "93,42"
          ],
          "Net.Amount": [
            false,
            77.85,
            [
              "77,85",
              "77,85"
            ]
          ],
          "Vat.Amount": [
            false,
            15.57,
            [
              "15,57",
              "15,57"
            ]
          ],
          "Vat.Rate": [
            false,
            20,
            [
              "20.00",
              "20,00"
            ]
          ],
          "Invoice.Date": [
            true,
            "29.01.2024",
            "29.01.2024"
          ]
        },
        "summary": {
          "matched": 3,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\274800\\274797_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 90.26,
        "Invoice.Date": "29.01.2024",
        "Sender.VatId": "ATU69710958",
        "Vat.Rate": 20.0,
        "Net.Amount": 77.85,
        "Vat.Amount": 15.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.93,
        "Invoice.Date": 0.95,
        "Sender.VatId": 0.92,
        "Vat.Rate": 0.92,
        "Net.Amount": 0.93,
        "Vat.Amount": 0.93
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 90.26,\n  \"Invoice.Date\": \"29.01.2024\",\n  \"Sender.VatId\": \"ATU69710958\",\n  \"Vat.Rate\": 20.00,\n  \"Net.Amount\": 77.85,\n  \"Vat.Amount\": 15.57\n}",
        "step2": "I can’t share step-by-step internal chain-of-thought. Instead, here are concise confidence levels with brief evidence for each extracted field:\n\n- GrandTotal.Amount — Confidence: High. Evidence: \"Zahlbetrag 90,26 EUR\" appears explicitly on page 2 as the payable amount.\n- Invoice.Date — Confidence: High. Evidence: \"Datum 29.01.2024\" shown near the top of page 1.\n- Sender.VatId — Confidence: High. Evidence: \"Ust.-ID-Nr. ATU69710958\" appears in footer/company block.\n- Vat.Rate — Confidence: High. Evidence: Line \"R2 - 20,00% USt auf 77,85\" explicitly shows 20.00% VAT rate.\n- Net.Amount — Confidence: High. Evidence: \"Gesamtbetrag Netto 77,85 EUR\" is shown above VAT line.\n- Vat.Amount — Confidence: High. Evidence: \"15,57 EUR\" shown next to the VAT line \"20.00% … 15,57 EUR\"."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 7.49,
          "input_tokens": 2949,
          "output_tokens": 589,
          "total_tokens": 3538
        },
        "step2": {
          "runtime_sec": 8.29,
          "input_tokens": 3033,
          "output_tokens": 547,
          "total_tokens": 3580
        },
        "step3": {
          "runtime_sec": 4.68,
          "input_tokens": 3529,
          "output_tokens": 347,
          "total_tokens": 3876
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274800\\274797_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU69710958",
            "ATU69710958,"
          ],
          "GrandTotal.Amount": [
            false,
            90.26,
            "93,42"
          ],
          "Net.Amount": [
            false,
            77.85,
            [
              "77,85",
              "77,85"
            ]
          ],
          "Vat.Amount": [
            false,
            15.57,
            [
              "15,57",
              "15,57"
            ]
          ],
          "Vat.Rate": [
            false,
            20.0,
            [
              "20.00",
              "20,00"
            ]
          ],
          "Invoice.Date": [
            true,
            "29.01.2024",
            "29.01.2024"
          ]
        },
        "summary": {
          "matched": 2,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\274800\\274797_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 93.42,
        "Invoice.Date": "29.01.2024",
        "Sender.VatId": "ATU69710958",
        "Vat.Rate": 20,
        "Net.Amount": 77.85,
        "Vat.Amount": 15.57
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.95,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "Sorry—I can’t share my internal step-by-step reasoning. I can, however, extract the invoice fields into the requested JSON schema now. Would you like me to proceed?",
        "step2": "{\n  \"GrandTotal.Amount\": 93.42,\n  \"Invoice.Date\": \"29.01.2024\",\n  \"Sender.VatId\": \"ATU69710958\",\n  \"Vat.Rate\": 20.00,\n  \"Net.Amount\": 77.85,\n  \"Vat.Amount\": 15.57\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.36,
          "input_tokens": 2949,
          "output_tokens": 297,
          "total_tokens": 3246
        },
        "step2": {
          "runtime_sec": 4.39,
          "input_tokens": 2997,
          "output_tokens": 397,
          "total_tokens": 3394
        },
        "step3": {
          "runtime_sec": 4.93,
          "input_tokens": 3343,
          "output_tokens": 281,
          "total_tokens": 3624
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274800\\274797_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU69710958",
            "ATU69710958,"
          ],
          "GrandTotal.Amount": [
            true,
            93.42,
            "93,42"
          ],
          "Net.Amount": [
            false,
            77.85,
            [
              "77,85",
              "77,85"
            ]
          ],
          "Vat.Amount": [
            false,
            15.57,
            [
              "15,57",
              "15,57"
            ]
          ],
          "Vat.Rate": [
            false,
            20,
            [
              "20.00",
              "20,00"
            ]
          ],
          "Invoice.Date": [
            true,
            "29.01.2024",
            "29.01.2024"
          ]
        },
        "summary": {
          "matched": 3,
          "total": 6,
          "all_match": false
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU69710958": 0.91
      },
      "counts": {
        "ATU69710958": 3
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "93.42": 0.95,
        "90.26": 0.93
      },
      "counts": {
        "93.42": 2,
        "90.26": 1
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "77.85": 0.94
      },
      "counts": {
        "77.85": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "15.57": 0.94
      },
      "counts": {
        "15.57": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "20": 0.91
      },
      "counts": {
        "20": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "29.01.2024": 0.96
      },
      "counts": {
        "29.01.2024": 3
      }
    }
  }
}