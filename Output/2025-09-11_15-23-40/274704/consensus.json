{
  "input_path": "..\\Documents\\274773\\274704_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU18804300",
      "avg_confidence": 0.95
    },
    "GrandTotal.Amount": {
      "value": 1621.96,
      "avg_confidence": 0.93
    },
    "Net.Amount": {
      "value": 1351.63,
      "avg_confidence": 0.93
    },
    "Vat.Amount": {
      "value": 270.33,
      "avg_confidence": 0.93
    },
    "Vat.Rate": {
      "value": 20,
      "avg_confidence": 0.93
    },
    "Invoice.Date": {
      "value": "30.01.2024",
      "avg_confidence": 0.95
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\274773\\274704_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 1621.96,
        "Invoice.Date": "30.01.2024",
        "Sender.VatId": "ATU18804300",
        "Vat.Rate": 20,
        "Net.Amount": 1351.63,
        "Vat.Amount": 270.33
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.9,
        "Invoice.Date": 0.95,
        "Sender.VatId": 0.95,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.9
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 1621.96,\n  \"Invoice.Date\": \"30.01.2024\",\n  \"Sender.VatId\": \"ATU18804300\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 1351.63,\n  \"Vat.Amount\": 270.33\n}",
        "step2": "{\n  \"GrandTotal.Amount\": 1621.96,\n  \"Invoice.Date\": \"30.01.2024\",\n  \"Sender.VatId\": \"ATU18804300\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 1351.63,\n  \"Vat.Amount\": 270.33\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.4,
          "input_tokens": 1793,
          "output_tokens": 333,
          "total_tokens": 2126
        },
        "step2": {
          "runtime_sec": 5.23,
          "input_tokens": 1877,
          "output_tokens": 333,
          "total_tokens": 2210
        },
        "step3": {
          "runtime_sec": 3.15,
          "input_tokens": 2223,
          "output_tokens": 283,
          "total_tokens": 2506
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274773\\274704_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU18804300",
            "ATU18804300"
          ],
          "GrandTotal.Amount": [
            true,
            1621.96,
            "1.621,96"
          ],
          "Net.Amount": [
            true,
            1351.63,
            "1.351,63"
          ],
          "Vat.Amount": [
            true,
            270.33,
            "270,33"
          ],
          "Vat.Rate": [
            true,
            20,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "30.01.2024",
            "30.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\274773\\274704_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 1621.96,
        "Invoice.Date": "30.01.2024",
        "Sender.VatId": "ATU18804300",
        "Vat.Rate": 20.0,
        "Net.Amount": 1351.63,
        "Vat.Amount": 270.33
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.9,
        "Invoice.Date": 0.9,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.9
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 1621.96,\n  \"Invoice.Date\": \"30.01.2024\",\n  \"Sender.VatId\": \"ATU18804300\",\n  \"Vat.Rate\": 20.00,\n  \"Net.Amount\": 1351.63,\n  \"Vat.Amount\": 270.33\n}",
        "step2": "I can’t share internal chain-of-thought, but I can provide a concise confidence summary for each extracted field:\n\n- GrandTotal.Amount: High — \"Summe ... EUR 1.621,96\" appears clearly as total.\n- Invoice.Date: High — \"Belegdatum: 30.01.2024\" present.\n- Sender.VatId: High — \"Unsere UID: ATU18804300\" present.\n- Vat.Rate: High — \"20,00% USt\" appears.\n- Net.Amount: High — \"EUR 1.351,63\" shown as sum/net before VAT.\n- Vat.Amount: High — \"EUR 270,33\" shown as VAT on EUR 1.351,63."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 4.62,
          "input_tokens": 1793,
          "output_tokens": 399,
          "total_tokens": 2192
        },
        "step2": {
          "runtime_sec": 5.32,
          "input_tokens": 1879,
          "output_tokens": 478,
          "total_tokens": 2357
        },
        "step3": {
          "runtime_sec": 3.74,
          "input_tokens": 2306,
          "output_tokens": 285,
          "total_tokens": 2591
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274773\\274704_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU18804300",
            "ATU18804300"
          ],
          "GrandTotal.Amount": [
            true,
            1621.96,
            "1.621,96"
          ],
          "Net.Amount": [
            true,
            1351.63,
            "1.351,63"
          ],
          "Vat.Amount": [
            true,
            270.33,
            "270,33"
          ],
          "Vat.Rate": [
            true,
            20.0,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "30.01.2024",
            "30.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\274773\\274704_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 1621.96,
        "Invoice.Date": "30.01.2024",
        "Sender.VatId": "ATU18804300",
        "Vat.Rate": 20,
        "Net.Amount": 1351.63,
        "Vat.Amount": 270.33
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 1.0,
        "Sender.VatId": 0.99,
        "Vat.Rate": 0.99,
        "Net.Amount": 0.99,
        "Vat.Amount": 0.99
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 1621.96,\n  \"Invoice.Date\": \"30.01.2024\",\n  \"Sender.VatId\": \"ATU18804300\",\n  \"Vat.Rate\": 20.00,\n  \"Net.Amount\": 1351.63,\n  \"Vat.Amount\": 270.33\n}",
        "step2": "I can’t share internal chain-of-thought. Below is a concise confidence assessment (field — value — confidence — brief evidence):\n\n- GrandTotal.Amount — 1621.96 — 98% — \"Summe EUR 1.621,96\" shown on invoice.  \n- Invoice.Date — 30.01.2024 — 100% — \"Belegdatum: 30.01.2024\".  \n- Sender.VatId — ATU18804300 — 99% — \"Unsere UID: ATU18804300\" on document footer.  \n- Vat.Rate — 20 — 99% — \"20,00% USt\" displayed. (Returned without % per rules.)  \n- Net.Amount — 1351.63 — 99% — \"Summe ... 1.351,63\" listed as base amount.  \n- Vat.Amount — 270.33 — 99% — \"20,00% USt von EUR 1.351,63 ... EUR 270,33\"."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 7.09,
          "input_tokens": 1793,
          "output_tokens": 463,
          "total_tokens": 2256
        },
        "step2": {
          "runtime_sec": 6.75,
          "input_tokens": 1879,
          "output_tokens": 540,
          "total_tokens": 2419
        },
        "step3": {
          "runtime_sec": 2.76,
          "input_tokens": 2368,
          "output_tokens": 219,
          "total_tokens": 2587
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274773\\274704_reference.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU18804300",
            "ATU18804300"
          ],
          "GrandTotal.Amount": [
            true,
            1621.96,
            "1.621,96"
          ],
          "Net.Amount": [
            true,
            1351.63,
            "1.351,63"
          ],
          "Vat.Amount": [
            true,
            270.33,
            "270,33"
          ],
          "Vat.Rate": [
            true,
            20,
            "20,00"
          ],
          "Invoice.Date": [
            true,
            "30.01.2024",
            "30.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU18804300": 0.95
      },
      "counts": {
        "ATU18804300": 3
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "1621.96": 0.93
      },
      "counts": {
        "1621.96": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "1351.63": 0.93
      },
      "counts": {
        "1351.63": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "270.33": 0.93
      },
      "counts": {
        "270.33": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "20": 0.93
      },
      "counts": {
        "20": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "30.01.2024": 0.95
      },
      "counts": {
        "30.01.2024": 3
      }
    }
  }
}