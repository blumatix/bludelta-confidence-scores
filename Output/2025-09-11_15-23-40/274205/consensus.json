{
  "input_path": "..\\Documents\\274205\\274205_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU76204938",
      "avg_confidence": 0.93
    },
    "GrandTotal.Amount": {
      "value": 7225.4,
      "avg_confidence": 0.92
    },
    "Net.Amount": {
      "value": 6021.17,
      "avg_confidence": 0.92
    },
    "Vat.Amount": {
      "value": 1204.23,
      "avg_confidence": 0.92
    },
    "Vat.Rate": {
      "value": 20,
      "avg_confidence": 0.92
    },
    "Invoice.Date": {
      "value": "01.2024",
      "avg_confidence": 0.6
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\274205\\274205_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 7225.4,
        "Invoice.Date": "01.2024",
        "Sender.VatId": "ATU76204938",
        "Vat.Rate": 20,
        "Net.Amount": 6021.17,
        "Vat.Amount": 1204.23
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.9,
        "Invoice.Date": 0.6,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.9
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Likely",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 7225.40,\n  \"Invoice.Date\": \"01.2024\",\n  \"Sender.VatId\": \"ATU76204938\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 6021.17,\n  \"Vat.Amount\": 1204.23\n}",
        "step2": "GrandTotal.Amount — High confidence. Evidence: \"Endbetrag 7.225,40\" matches 7225.40.\n\nInvoice.Date — Medium confidence. Evidence: \"Belegdatum:Kundennummer.01.2024\" shows \"01.2024\" as date fragment; exact day missing.\n\nSender.VatId — High confidence. Evidence: \"ATU76204938\" appears near sender address.\n\nVat.Rate — High confidence. Evidence: \"20%:\" and \"Währung ... MwSt. 20,00\" indicate 20%.\n\nNet.Amount — High confidence. Evidence: \"Summe 6.021,17\" and line showing 6.021,17 as base/net.\n\nVat.Amount — High confidence. Evidence: \"1.204,23\" shown next to the 20% label as tax amount."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 5.17,
          "input_tokens": 1719,
          "output_tokens": 524,
          "total_tokens": 2243
        },
        "step2": {
          "runtime_sec": 5.27,
          "input_tokens": 1802,
          "output_tokens": 436,
          "total_tokens": 2238
        },
        "step3": {
          "runtime_sec": 5.97,
          "input_tokens": 2251,
          "output_tokens": 346,
          "total_tokens": 2597
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274205\\274205_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU76204938",
            "ATU76204938"
          ],
          "GrandTotal.Amount": [
            true,
            7225.4,
            "7.225,40"
          ],
          "Net.Amount": [
            false,
            6021.17,
            [
              "6.021,17",
              "6.021,17"
            ]
          ],
          "Vat.Amount": [
            false,
            1204.23,
            [
              "1.204,23",
              "1.204,23"
            ]
          ],
          "Vat.Rate": [
            false,
            20,
            [
              "20",
              "20"
            ]
          ],
          "Invoice.Date": [
            false,
            "01.2024",
            "01.01.2023"
          ]
        },
        "summary": {
          "matched": 2,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\274205\\274205_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 7225.4,
        "Invoice.Date": "",
        "Sender.VatId": "ATU76204938",
        "Vat.Rate": 20,
        "Net.Amount": 6021.17,
        "Vat.Amount": 1204.23
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.1,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Highly unlikely",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 7225.40,\n  \"Invoice.Date\": \"\",\n  \"Sender.VatId\": \"ATU76204938\",\n  \"Vat.Rate\": 20,\n  \"Net.Amount\": 6021.17,\n  \"Vat.Amount\": 1204.23\n}",
        "step2": "I can’t share internal chain-of-thought. Below are concise confidence judgments (0–100%) with brief evidence lines.\n\n- GrandTotal.Amount — Confidence: 95% — Evidence: \"Endbetrag 7.225,40\" matches numeric 7225.40.\n- Invoice.Date — Confidence: 10% — Evidence: No clear invoice date found; \"Belegdatum:Kundennummer.01.2024\" is ambiguous.\n- Sender.VatId — Confidence: 98% — Evidence: \"ATU76204938\" appears near sender address.\n- Vat.Rate — Confidence: 95% — Evidence: \"20%\" shown next to tax line (displayed as \"20,00\" and \"20%\").\n- Net.Amount — Confidence: 95% — Evidence: \"Summe 6.021,17\" / base amount shown as 6.021,17.\n- Vat.Amount — Confidence: 95% — Evidence: \"Ausgangssteuer ... 1.204,23\" shown as VAT amount."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 6.47,
          "input_tokens": 1719,
          "output_tokens": 583,
          "total_tokens": 2302
        },
        "step2": {
          "runtime_sec": 7.19,
          "input_tokens": 1797,
          "output_tokens": 543,
          "total_tokens": 2340
        },
        "step3": {
          "runtime_sec": 3.82,
          "input_tokens": 2289,
          "output_tokens": 277,
          "total_tokens": 2566
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274205\\274205_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU76204938",
            "ATU76204938"
          ],
          "GrandTotal.Amount": [
            true,
            7225.4,
            "7.225,40"
          ],
          "Net.Amount": [
            false,
            6021.17,
            [
              "6.021,17",
              "6.021,17"
            ]
          ],
          "Vat.Amount": [
            false,
            1204.23,
            [
              "1.204,23",
              "1.204,23"
            ]
          ],
          "Vat.Rate": [
            false,
            20,
            [
              "20",
              "20"
            ]
          ],
          "Invoice.Date": [
            false,
            "",
            "01.01.2023"
          ]
        },
        "summary": {
          "matched": 2,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\274205\\274205_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 7225.4,
        "Invoice.Date": "01.2024",
        "Sender.VatId": "ATU76204938",
        "Vat.Rate": 20,
        "Net.Amount": 6021.17,
        "Vat.Amount": 1204.23
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.9,
        "Invoice.Date": 0.6,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.9,
        "Net.Amount": 0.9,
        "Vat.Amount": 0.9
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Likely",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "Sorry—I can’t share my internal step-by-step chain-of-thought. I can, however, extract the requested invoice fields and provide the final JSON output. Would you like me to proceed with the extraction now?",
        "step2": "GrandTotal.Amount — Confidence: High. Evidence: \"Endbetrag 7.225,40\" clearly shown.\n\nInvoice.Date — Confidence: Medium. Evidence: \"Belegdatum:Kundennummer.01.2024\" indicates \"01.2024\" but full day not present.\n\nSender.VatId — Confidence: High. Evidence: \"ATU76204938\" near sender address.\n\nVat.Rate — Confidence: High. Evidence: \"20,00\" shown alongside VAT calculations.\n\nNet.Amount — Confidence: High. Evidence: \"Summe 6.021,17\" listed as base amount.\n\nVat.Amount — Confidence: High. Evidence: \"Ausgangssteuer ... 1.204,23\" shown as VAT amount."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 2.79,
          "input_tokens": 1719,
          "output_tokens": 113,
          "total_tokens": 1832
        },
        "step2": {
          "runtime_sec": 7.29,
          "input_tokens": 1775,
          "output_tokens": 671,
          "total_tokens": 2446
        },
        "step3": {
          "runtime_sec": 6.31,
          "input_tokens": 2203,
          "output_tokens": 474,
          "total_tokens": 2677
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274205\\274205_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU76204938",
            "ATU76204938"
          ],
          "GrandTotal.Amount": [
            true,
            7225.4,
            "7.225,40"
          ],
          "Net.Amount": [
            false,
            6021.17,
            [
              "6.021,17",
              "6.021,17"
            ]
          ],
          "Vat.Amount": [
            false,
            1204.23,
            [
              "1.204,23",
              "1.204,23"
            ]
          ],
          "Vat.Rate": [
            false,
            20,
            [
              "20",
              "20"
            ]
          ],
          "Invoice.Date": [
            false,
            "01.2024",
            "01.01.2023"
          ]
        },
        "summary": {
          "matched": 2,
          "total": 6,
          "all_match": false
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU76204938": 0.93
      },
      "counts": {
        "ATU76204938": 3
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "7225.4": 0.92
      },
      "counts": {
        "7225.4": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "6021.17": 0.92
      },
      "counts": {
        "6021.17": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "1204.23": 0.92
      },
      "counts": {
        "1204.23": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "20": 0.92
      },
      "counts": {
        "20": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "01.2024": 0.6,
        "": 0.1
      },
      "counts": {
        "01.2024": 2,
        "": 1
      }
    }
  }
}