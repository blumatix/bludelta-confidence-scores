{
  "input_path": "..\\Documents\\274757\\274757_grid_concat.txt",
  "n_paths": 3,
  "final_answer": {
    "Sender.VatId": {
      "value": "ATU64424288",
      "avg_confidence": 0.98
    },
    "GrandTotal.Amount": {
      "value": 254.53,
      "avg_confidence": 0.97
    },
    "Net.Amount": {
      "value": 231.39,
      "avg_confidence": 0.97
    },
    "Vat.Amount": {
      "value": 23.14,
      "avg_confidence": 0.97
    },
    "Vat.Rate": {
      "value": 10,
      "avg_confidence": 0.97
    },
    "Invoice.Date": {
      "value": "25.01.2024",
      "avg_confidence": 0.98
    }
  },
  "runs": [
    {
      "input_path": "..\\Documents\\274757\\274757_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 254.53,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU 64424288",
        "Vat.Rate": 10,
        "Net.Amount": 231.39,
        "Vat.Amount": 23.14
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.99,
        "Sender.VatId": 0.99,
        "Vat.Rate": 0.99,
        "Net.Amount": 0.99,
        "Vat.Amount": 0.99
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 254.53,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU 64424288\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 231.39,\n  \"Vat.Amount\": 23.14\n}",
        "step2": "I will evaluate each extracted field with evidence and estimated confidence.\n\n- GrandTotal.Amount = 254.53\n  - Evidence: \"Gesamtbetrag EUR 254,53\" clearly present (comma decimal). Matches extracted value with decimal conversion to dot.\n  - Confidence: 98%\n\n- Invoice.Date = \"25.01.2024\"\n  - Evidence: \"Datum: 25.01.2024\" and \"Abrechnungszeitraum: 25.01.2024\" both present.\n  - Confidence: 99%\n\n- Sender.VatId = \"ATU 64424288\"\n  - Evidence: \"Unsere UID-Nr.: ATU 64424288\" clearly present. OCR spacing preserved.\n  - Confidence: 99%\n\n- Vat.Rate = 10\n  - Evidence: Line items show \"Mw% 10\" and summary \"10% Mwst. von 231,39 EUR\".\n  - Confidence: 99%\n\n- Net.Amount = 231.39\n  - Evidence: \"Nettobetrag EUR 231,39\" clearly present; matches with decimal conversion.\n  - Confidence: 99%\n\n- Vat.Amount = 23.14\n  - Evidence: \"10% Mwst. von 231,39 EUR 23,14\" shown in summary.\n  - Confidence: 99%"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 4.83,
          "input_tokens": 1757,
          "output_tokens": 332,
          "total_tokens": 2089
        },
        "step2": {
          "runtime_sec": 5.8,
          "input_tokens": 1840,
          "output_tokens": 479,
          "total_tokens": 2319
        },
        "step3": {
          "runtime_sec": 4.47,
          "input_tokens": 2396,
          "output_tokens": 282,
          "total_tokens": 2678
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274757\\274757_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU 64424288",
            "ATU 64424288"
          ],
          "GrandTotal.Amount": [
            true,
            254.53,
            "254,53"
          ],
          "Net.Amount": [
            true,
            231.39,
            "231,39"
          ],
          "Vat.Amount": [
            true,
            23.14,
            "23,14"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    },
    {
      "input_path": "..\\Documents\\274757\\274757_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 254.53,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU64424288",
        "Vat.Rate": 10,
        "Net.Amount": 231.39,
        "Vat.Amount": 23.14
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.98,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.98,
        "Vat.Rate": 0.98,
        "Net.Amount": 0.98,
        "Vat.Amount": 0.98
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 254.53,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU64424288\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 231.39,\n  \"Vat.Amount\": 23.14\n}",
        "step2": "I can’t share my internal chain-of-thought, but I can provide a concise confidence assessment for each extracted field with brief evidence.\n\n- GrandTotal.Amount: 254.53 — Confidence: High. Evidence: \"Gesamtbetrag EUR 254,53\" clearly printed.\n- Invoice.Date: 25.01.2024 — Confidence: High. Evidence: \"Datum: 25.01.2024\" near invoice header.\n- Sender.VatId: ATU64424288 — Confidence: High. Evidence: \"Unsere UID-Nr.: ATU 64424288\" in header.\n- Vat.Rate: 10 — Confidence: High. Evidence: Line shows \"10% Mwst.\" applied to the net.\n- Net.Amount: 231.39 — Confidence: High. Evidence: \"Nettobetrag EUR 231,39\" and matches sum of line items.\n- Vat.Amount: 23.14 — Confidence: High. Evidence: \"10% Mwst. von 231,39 EUR 23,14\" printed."
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 6.07,
          "input_tokens": 1757,
          "output_tokens": 331,
          "total_tokens": 2088
        },
        "step2": {
          "runtime_sec": 5.83,
          "input_tokens": 1839,
          "output_tokens": 416,
          "total_tokens": 2255
        },
        "step3": {
          "runtime_sec": 3.26,
          "input_tokens": 2332,
          "output_tokens": 281,
          "total_tokens": 2613
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274757\\274757_test.json",
        "per_field": {
          "Sender.VatId": [
            false,
            "ATU64424288",
            "ATU 64424288"
          ],
          "GrandTotal.Amount": [
            true,
            254.53,
            "254,53"
          ],
          "Net.Amount": [
            true,
            231.39,
            "231,39"
          ],
          "Vat.Amount": [
            true,
            23.14,
            "23,14"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 5,
          "total": 6,
          "all_match": false
        }
      }
    },
    {
      "input_path": "..\\Documents\\274757\\274757_grid_concat.txt",
      "answer": {
        "GrandTotal.Amount": 254.53,
        "Invoice.Date": "25.01.2024",
        "Sender.VatId": "ATU 64424288",
        "Vat.Rate": 10,
        "Net.Amount": 231.39,
        "Vat.Amount": 23.14
      },
      "confidence_numeric": {
        "GrandTotal.Amount": 0.95,
        "Invoice.Date": 0.98,
        "Sender.VatId": 0.9,
        "Vat.Rate": 0.95,
        "Net.Amount": 0.95,
        "Vat.Amount": 0.95
      },
      "confidence_verbal": {
        "GrandTotal.Amount": "Almost certain",
        "Invoice.Date": "Almost certain",
        "Sender.VatId": "Almost certain",
        "Vat.Rate": "Almost certain",
        "Net.Amount": "Almost certain",
        "Vat.Amount": "Almost certain"
      },
      "reasoning": {
        "step1": "{\n  \"GrandTotal.Amount\": 254.53,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU 64424288\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 231.39,\n  \"Vat.Amount\": 23.14\n}",
        "step2": "{\n  \"GrandTotal.Amount\": 254.53,\n  \"Invoice.Date\": \"25.01.2024\",\n  \"Sender.VatId\": \"ATU 64424288\",\n  \"Vat.Rate\": 10,\n  \"Net.Amount\": 231.39,\n  \"Vat.Amount\": 23.14\n}"
      },
      "llm_logs": {
        "step1": {
          "runtime_sec": 6.27,
          "input_tokens": 1757,
          "output_tokens": 460,
          "total_tokens": 2217
        },
        "step2": {
          "runtime_sec": 3.13,
          "input_tokens": 1840,
          "output_tokens": 332,
          "total_tokens": 2172
        },
        "step3": {
          "runtime_sec": 3.95,
          "input_tokens": 2185,
          "output_tokens": 282,
          "total_tokens": 2467
        }
      },
      "evaluation": {
        "ground_truth_path": "..\\Documents\\274757\\274757_test.json",
        "per_field": {
          "Sender.VatId": [
            true,
            "ATU 64424288",
            "ATU 64424288"
          ],
          "GrandTotal.Amount": [
            true,
            254.53,
            "254,53"
          ],
          "Net.Amount": [
            true,
            231.39,
            "231,39"
          ],
          "Vat.Amount": [
            true,
            23.14,
            "23,14"
          ],
          "Vat.Rate": [
            true,
            10,
            "10"
          ],
          "Invoice.Date": [
            true,
            "25.01.2024",
            "25.01.2024"
          ]
        },
        "summary": {
          "matched": 6,
          "total": 6,
          "all_match": true
        }
      }
    }
  ],
  "vote_debug": {
    "Sender.VatId": {
      "avg_conf_per_value": {
        "ATU 64424288": 0.95,
        "ATU64424288": 0.98
      },
      "counts": {
        "ATU 64424288": 2,
        "ATU64424288": 1
      }
    },
    "GrandTotal.Amount": {
      "avg_conf_per_value": {
        "254.53": 0.97
      },
      "counts": {
        "254.53": 3
      }
    },
    "Net.Amount": {
      "avg_conf_per_value": {
        "231.39": 0.97
      },
      "counts": {
        "231.39": 3
      }
    },
    "Vat.Amount": {
      "avg_conf_per_value": {
        "23.14": 0.97
      },
      "counts": {
        "23.14": 3
      }
    },
    "Vat.Rate": {
      "avg_conf_per_value": {
        "10": 0.97
      },
      "counts": {
        "10": 3
      }
    },
    "Invoice.Date": {
      "avg_conf_per_value": {
        "25.01.2024": 0.98
      },
      "counts": {
        "25.01.2024": 3
      }
    }
  }
}